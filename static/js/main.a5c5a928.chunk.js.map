{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Loader/Loader.module.css","components/Button/Button.module.css","App.module.css","components/Searchbar/Searchbar.jsx","components/ImageGallery/ImageGallery.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Loader/Loader.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","api/data.api.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","query","handleChange","element","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","className","styles","this","SearchForm","type","SearchForm_button","SearchForm_button_label","SearchForm_input","onChange","autoComplete","autoFocus","placeholder","Component","ImageGallery","children","ImageGalleryitem","hits","onClick","map","id","webformatURL","ImageGalleryItem","src","alt","ImageGalleryItem_image","Loader","loader_circle","color","height","width","Button","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","URL","fetchPhoto","searchQuery","currentPage","pageSize","axios","get","then","response","data","App","seachQuery","isLoading","error","showModal","bigImageURL","fetchImages","prevState","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","onChangeQuery","toggleModal","searchBigImg","idImg","largeImageURL","find","item","prevProps","shouldRenderLoadMoreButton","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a5c5a928.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__yP1-a\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__2wRbg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__13A4X\",\"Modal\":\"Modal_Modal__1_TVP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__144os\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader_circle\":\"Loader_loader_circle__1I4VZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__zW21e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2se5O\"};","import PropTypes from 'prop-types';\r\nimport { Component } from 'react';\r\nimport styles from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n    state = { query: '' };\r\n\r\n    handleChange = element => {\r\n        this.setState({ query: element.currentTarget.value });\r\n    };\r\n\r\n    handleSubmit = element => {\r\n        element.preventDefault();\r\n        this.props.onSubmit(this.state.query);\r\n        this.setState({ query: '' });\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <header className={styles.Searchbar}>\r\n                <form onSubmit={this.handleSubmit} className={styles.SearchForm}>\r\n                    <button type=\"submit\" className={styles.SearchForm_button}>\r\n                        <span className={styles.SearchForm_button_label}>Search</span>\r\n                    </button>\r\n\r\n                    <input\r\n                        className={styles.SearchForm_input}\r\n                        type=\"text\"\r\n                        value={this.state.query}\r\n                        onChange ={this.handleChange}\r\n                        autoComplete=\"off\"\r\n                        autoFocus\r\n                        placeholder=\"Search images and photos\"\r\n                    />\r\n                </form>\r\n            </header>\r\n        )\r\n    }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default Searchbar;","import PropTypes from 'prop-types';\r\nimport styles from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({children}) => { \r\n    \r\n        return (\r\n            <div className=\"second-component\">\r\n                <ul className={styles.ImageGallery}>\r\n                    {children}\r\n                </ul>\r\n            </div>\r\n        );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n    children: PropTypes.node.isRequired,\r\n}\r\n\r\nexport default ImageGallery;","import PropTypes from 'prop-types';\r\nimport styles from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryitem = ({ hits, onClick }) => {\r\n\r\n    return (\r\n        <>\r\n            { hits.map(({ id, webformatURL }) =>  ( \r\n                <li key={id} onClick={()=>onClick(id) } className={styles.ImageGalleryItem}>\r\n                    <img id={id} src={webformatURL} alt=\"\" className={styles.ImageGalleryItem_image} />\r\n                </li>\r\n            )) }\r\n        </>\r\n    \r\n    )\r\n}\r\n\r\nImageGalleryitem.propTypes = {\r\n    hits: PropTypes.arrayOf(\r\n        PropTypes.shape({\r\n            id: PropTypes.number.isRequired,\r\n            webformatURL: PropTypes.string.isRequired,\r\n        })\r\n    ),\r\n    onClick: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default ImageGalleryitem;","import { Component } from 'react';\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport LoaderSpiner from \"react-loader-spinner\";\r\nimport styles from './Loader.module.css';\r\n\r\nclass Loader extends Component {\r\n  //other logic\r\n  render() {\r\n    return (\r\n      <LoaderSpiner className={styles.loader_circle}\r\n        type=\"ThreeDots\"\r\n        color=\"#00BFFF\"\r\n        height={80}\r\n        width={80}\r\n        // timeout={3000} //3 secs\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default Loader;\r\n\r\n","import PropTypes from 'prop-types';\r\nimport styles from './Button.module.css';\r\n\r\nconst Button = ({ children, onClick}) => (\r\n    <button type=\"button\" className={styles.Button} onClick={onClick} >\r\n        Load more {children}\r\n    </button>\r\n);\r\n\r\nButton.propTypes = {\r\n    onClick: PropTypes.func.isRequired,\r\n    children: PropTypes.node,\r\n}\r\n\r\nexport default Button;","import PropTypes from 'prop-types';\r\nimport { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport styles from './Modal.module.css';\r\n\r\n const modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n    componentDidMount() {\r\n        window.addEventListener('keydown', this.handleKeyDown);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('keydown', this.handleKeyDown);\r\n    }\r\n\r\n    handleKeyDown = e => {\r\n        if(e.code === 'Escape') {\r\n            this.props.onClose();\r\n        }\r\n    }\r\n\r\n    handleBackdropClick = e => {\r\n        if(e.currentTarget === e.target) {\r\n            this.props.onClose();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return createPortal (\r\n            <div className={styles.Overlay} onClick={this.handleBackdropClick}>\r\n                <div className={styles.Modal}>\r\n                    { this.props.children }\r\n                </div>\r\n            </div>,\r\n             modalRoot,\r\n        )\r\n    }\r\n\r\n}\r\n\r\nModal.propTypes = {\r\n    onClick: PropTypes.func,\r\n    onClose: PropTypes.func,\r\n    children: PropTypes.node,\r\n}\r\n\r\nexport default Modal;","import axios from 'axios';\r\n\r\nconst BASE_URL = 'https://pixabay.com/api/';\r\nconst  KEY = '20667930-64a6ab52d11330f7fc72003b0';\r\nconst URL = `${BASE_URL}?key=${KEY}`;\r\n\r\nconst fetchPhoto = (searchQuery = '', currentPage = 1, pageSize = 12) => {\r\n    return axios\r\n        .get (\r\n            `${URL}&q=${searchQuery}&image_type=photo&per_page=${pageSize}&page=${currentPage}`,\r\n        )\r\n        .then(response => response.data.hits);\r\n};\r\n\r\nexport default fetchPhoto;  ","import { Component } from 'react';\r\nimport Searchbar from './components/Searchbar/Searchbar';\r\nimport ImageGallery from './components/ImageGallery/ImageGallery';\r\nimport ImageGalleryItem from './components/ImageGalleryItem/ImageGalleryItem';\r\nimport Loader from './components/Loader/Loader';\r\nimport Button from './components/Button/Button';\r\nimport Modal from './components/Modal/Modal';\r\nimport fetchPhoto from './api/data.api';\r\nimport styles from './App.module.css';\r\n\r\nclass App extends Component {\r\n    state = {\r\n        hits: [],\r\n        currentPage: 1,\r\n        seachQuery: '',\r\n        isLoading: false,\r\n        error: null,\r\n        showModal: false,\r\n        bigImageURL: '',\r\n    };\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (prevState.seachQuery !== this.state.seachQuery) {\r\n            this.fetchImages();\r\n        }\r\n    }\r\n\r\n    fetchImages = () => {\r\n        const { seachQuery, currentPage } = this.state;\r\n\r\n        this.setState({isLoading: true});\r\n        \r\n        fetchPhoto(seachQuery, currentPage)\r\n            .then(hits => { \r\n                this.setState(prevState => ({\r\n                    hits: [...prevState.hits, ...hits],\r\n                    currentPage: prevState.currentPage + 1,\r\n                }));\r\n            })\r\n            .catch(error => this.setState({error}))\r\n            .finally(() => {\r\n                this.setState({isLoading: false});\r\n                window.scrollTo({\r\n                    top: document.documentElement.scrollHeight,\r\n                    behavior: 'smooth',\r\n                });\r\n            });\r\n    };\r\n\r\n    onChangeQuery = query => {\r\n        this.setState({\r\n            seachQuery: query,\r\n            currentPage: 1,\r\n            hits: [],\r\n            error: null,\r\n        });\r\n    };\r\n\r\n    toggleModal = () => {\r\n        this.setState(({showModal}) => ({\r\n            showModal: !showModal,\r\n        }))\r\n    }\r\n\r\n    searchBigImg = (idImg) => {\r\n        const { hits } = this.state;\r\n        const searchIdImg = hits.find( item => item.id === idImg);\r\n        const { largeImageURL } = searchIdImg;\r\n        this.setState({ bigImageURL: largeImageURL });\r\n        this.toggleModal();\r\n    }\r\n\r\n    render() {\r\n        const { hits, isLoading, error, showModal, bigImageURL } = this.state;\r\n        const shouldRenderLoadMoreButton = hits.length > 0 && !isLoading;\r\n\r\n        return (\r\n            <div className={styles.App}> \r\n                <Searchbar onSubmit={this.onChangeQuery}/>\r\n                {error && <h1>Try entering another request</h1>}\r\n                <ImageGallery>\r\n                    <ImageGalleryItem hits={hits} onClick={this.searchBigImg}/>\r\n                </ImageGallery> \r\n                {isLoading && <Loader />}\r\n                {shouldRenderLoadMoreButton && <Button onClick={this.fetchImages}/>}\r\n                {showModal && <Modal onClose={this.toggleModal}> <img src={ bigImageURL } alt=\"\" /> </Modal> }\r\n            </div>    \r\n        );\r\n    }\r\n}\r\n\r\nexport default App;","import React from \"react\";\r\nimport ReactDOM from 'react-dom';\r\nimport App from \"./App\";\r\nimport './styles.css';\r\n\r\nReactDOM.render(\r\n   <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>\r\n  ,\r\n  document.getElementById('root')\r\n);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2FRZX\",\"SearchForm\":\"Searchbar_SearchForm__18uou\",\"SearchForm_button\":\"Searchbar_SearchForm_button__lokFS\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__3XWyd\",\"SearchForm_input\":\"Searchbar_SearchForm_input__2TSEX\"};"],"sourceRoot":""}